(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{448:function(t,a,s){"use strict";s.r(a);var e=s(17),n=function(t){t.options.__data__block__={mermaid_64a5709e:"sequenceDiagram\n  autonumber\n  participant A as API Server\n  participant E as Endpoint<br />Controller\n  participant P as Kube-Proxy\n  participant D as CoreDNS\n  Note left of A: service.yml\n\n  loop\n    E->>A: Service ê°ì‹œ\n    E->>A: Endpoint ìƒì„±\n  end\n\n  loop\n    P->>A: Endpoint ê°ì‹œ\n  end\n\n  Note right of P: Endpoint ë³€ê²½ì‹œ<br />iptables ì„¤ì •\n\n  loop\n    D->>A: Service ê°ì‹œ\n  end\n\n  Note right of D: Service ë³€ê²½ì‹œ<br />CoreDNS ì„¤ì •\n"}},r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service"}},[t._v("#")]),t._v(" Service")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("âš¡ï¸ ëª©í‘œ")]),t._v(" "),s("p",[t._v("Service(ì„œë¹„ìŠ¤)ë¥¼ ì´ìš©í•˜ì—¬ Podì„ ë…¸ì¶œí•˜ê³  í´ëŸ¬ìŠ¤í„° ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.")])]),t._v(" "),s("p",[t._v("Podì€ ìì²´ IPë¥¼ ê°€ì§€ê³  ë‹¤ë¥¸ Podê³¼ í†µì‹ í•  ìˆ˜ ìˆì§€ë§Œ, ì‰½ê²Œ ì‚¬ë¼ì§€ê³  ìƒì„±ë˜ëŠ” íŠ¹ì§• ë•Œë¬¸ì— ì§ì ‘ í†µì‹ í•˜ëŠ” ë°©ë²•ì€ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” Podê³¼ ì§ì ‘ í†µì‹ í•˜ëŠ” ë°©ë²• ëŒ€ì‹ , ë³„ë„ì˜ ê³ ì •ëœ IPë¥¼ ê°€ì§„ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ê³  ê·¸ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ Podì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticStyle:{"text-align":"center",width:"420px","max-width":"100%",margin:"0 auto"}},[s("custom-image",{attrs:{src:"/imgs/guide/service/pod-service.png",alt:"Service"}})],1),t._v(" "),s("p",[t._v("ì´ëŸ¬í•œ ê°œë…ì€ "),s("s",[t._v("ë„ì»¤ì— ìµìˆ™í• ìˆ˜ë¡")]),t._v(" ì²˜ìŒ ì ‘í•˜ë©´ ì°¸ ì–´ë µìŠµë‹ˆë‹¤. ê°œë…ë„ ìƒì†Œí•œë° ë…¸ì¶œ ë²”ìœ„ì— ë”°ë¼ CluterIP, NodePort, LoadBalancer íƒ€ì…ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ë”ìš± í—·ê°ˆë¦½ë‹ˆë‹¤. í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ì•Œì•„ë´…ì‹œë‹¤.")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#service-clusterip-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[t._v("Service(ClusterIP) ë§Œë“¤ê¸°")])]),s("li",[s("a",{attrs:{href:"#service-á„‰á…¢á†¼á„‰á…¥á†¼-á„’á…³á„…á…³á†·"}},[t._v("Service ìƒì„± íë¦„")])]),s("li",[s("a",{attrs:{href:"#service-nodeport-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[t._v("Service(NodePort) ë§Œë“¤ê¸°")])]),s("li",[s("a",{attrs:{href:"#service-loadbalancer-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[t._v("Service(LoadBalancer) ë§Œë“¤ê¸°")]),s("ul",[s("li",[s("a",{attrs:{href:"#minikubeá„‹á…¦-á„€á…¡á„‰á…¡á†¼-loadbalancer-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[t._v("minikubeì— ê°€ìƒ LoadBalancer ë§Œë“¤ê¸°")])])])]),s("li",[s("a",{attrs:{href:"#á„†á…¡á„†á…®á„…á…µ"}},[t._v("ë§ˆë¬´ë¦¬")])]),s("li",[s("a",{attrs:{href:"#á„á…¡á†·á„€á…©"}},[t._v("ì°¸ê³ ")])]),s("li",[s("a",{attrs:{href:"#á„†á…®á†«á„Œá…¦"}},[t._v("ë¬¸ì œ")])])])]),s("p"),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("ì„œë¹„ìŠ¤ ì¢…ë¥˜")]),t._v(" "),s("p",[t._v("ì„œë¹„ìŠ¤ ì¢…ë¥˜ ì¤‘ì— "),s("code",[t._v("ExternalName")]),t._v("ë„ ìˆì§€ë§Œ ì—¬ê¸°ì„œëŠ” ë‹¤ë£¨ì§€ ì•ŠìŠµë‹ˆë‹¤.")])]),t._v(" "),s("h2",{attrs:{id:"service-clusterip-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-clusterip-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[t._v("#")]),t._v(" Service(ClusterIP) ë§Œë“¤ê¸°")]),t._v(" "),s("p",[t._v("ClusterIPëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì— ìƒˆë¡œìš´ IPë¥¼ í• ë‹¹í•˜ê³  ì—¬ëŸ¬ ê°œì˜ Podì„ ë°”ë¼ë³´ëŠ” ë¡œë“œë°¸ëŸ°ì„œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì„œë¹„ìŠ¤ ì´ë¦„ì„ ë‚´ë¶€ ë„ë©”ì¸ ì„œë²„ì— ë“±ë¡í•˜ì—¬ Pod ê°„ì— ì„œë¹„ìŠ¤ ì´ë¦„ìœ¼ë¡œ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")]),t._v(" "),s("p",[t._v("ê·¸ëŸ¼, "),s("RouterLink",{attrs:{to:"/guide/pod.html#á„ƒá…¡á„Œá…®á†¼-á„á…¥á†«á„á…¦á„‹á…µá„‚á…¥"}},[t._v("ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ")]),t._v("ë¥¼ ì„¤ëª…í•  ë•Œ ë§Œë“¤ì—ˆë˜, counter ì•± ì¤‘ì— redisë¥¼ ì„œë¹„ìŠ¤ë¡œ ë…¸ì¶œí•´ë³´ê² ìŠµë‹ˆë‹¤.")],1),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchLabels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" db\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" db\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containerPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TCP\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Service\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TCP\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" db\n")])])]),s("code-link",{attrs:{link:"guide/service/counter-redis-svc.yml"}}),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("êµ¬ë¶„ì")]),t._v(" "),s("p",[t._v('í•˜ë‚˜ì˜ YAMLíŒŒì¼ì— ì—¬ëŸ¬ ê°œì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜í•  ë• "---"ë¥¼ êµ¬ë¶„ìë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.')])]),t._v(" "),s("p",[t._v("redisë¥¼ ë¨¼ì € ë§Œë“¤ì–´ ë´…ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("kubectl apply -f counter-redis-svc.yml\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Pod, ReplicaSet, Deployment, Service ìƒíƒœ í™•ì¸")]),t._v("\nkubectl get all\n")])])]),s("p",[s("strong",[t._v("ì‹¤í–‰ ê²°ê³¼")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("NAME                         READY   STATUS    RESTARTS   AGE\npod/redis-57d787df44-mf5w5   1/1     Running   0          10s\n\nNAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE\nservice/kubernetes   ClusterIP   10.96.0.1       <none>        443/TCP    3d19h\nservice/redis        ClusterIP   10.103.50.102   <none>        6379/TCP   10s\n\nNAME                    READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/redis   1/1     1            1           10s\n\nNAME                               DESIRED   CURRENT   READY   AGE\nreplicaset.apps/redis-57d787df44   1         1         1       10s\n")])])]),s("p",[t._v("redis Deploymentì™€ Serviceê°€ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")]),t._v(" "),s("div",{staticStyle:{"text-align":"center",width:"170px","max-width":"100%",margin:"0 auto"}},[s("custom-image",{attrs:{src:"/imgs/guide/service/clusterip.png",alt:"ClusterIp"}})],1),t._v(" "),s("p",[t._v("ê°™ì€ í´ëŸ¬ìŠ¤í„°ì—ì„œ ìƒì„±ëœ Podì´ë¼ë©´ "),s("code",[t._v("redis")]),t._v("ë¼ëŠ” ë„ë©”ì¸ìœ¼ë¡œ redis Podì— ì ‘ê·¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ("),s("code",[t._v("redis.default.svc.cluster.local")]),t._v("ë¡œë„ ì ‘ê·¼ê°€ëŠ¥ í•©ë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ namespaceì™€ clusterë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)")]),t._v(" "),s("p",[t._v("CluterIP ì„œë¹„ìŠ¤ì˜ ì„¤ì •ì„ ì‚´í´ë´…ë‹ˆë‹¤.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ì •ì˜")]),t._v(" "),s("th",[t._v("ì„¤ëª…")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("spec.ports.port")])]),t._v(" "),s("td",[t._v("ì„œë¹„ìŠ¤ê°€ ìƒì„±í•  Port")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("spec.ports.targetPort")])]),t._v(" "),s("td",[t._v("ì„œë¹„ìŠ¤ê°€ ì ‘ê·¼í•  Podì˜ Port (ê¸°ë³¸: portë‘ ë™ì¼)")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("spec.selector")])]),t._v(" "),s("td",[t._v("ì„œë¹„ìŠ¤ê°€ ì ‘ê·¼í•  Podì˜ label ì¡°ê±´")])])])]),t._v(" "),s("p",[t._v("redis Serviceì˜ selectorëŠ” redis Deploymentì— ì •ì˜í•œ labelì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— í•´ë‹¹ Podì„ ê°€ë¦¬í‚µë‹ˆë‹¤. ê·¸ë¦¬ê³  í•´ë‹¹ Podì˜ 6379 í¬íŠ¸ë¡œ ì—°ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.")]),t._v(" "),s("p",[t._v("ì´ì œ redisì— ì ‘ê·¼í•  counter ì•±ì„ Deploymentë¡œ ë§Œë“­ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchLabels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" app\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" app\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ghcr.io/subicura/counter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" REDIS_HOST\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redis"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" REDIS_PORT\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6379"')]),t._v("\n")])])]),s("code-link",{attrs:{link:"guide/service/counter-app.yml"}}),t._v(" "),s("p",[t._v("counter app Podì—ì„œ redis Podìœ¼ë¡œ ì ‘ê·¼ì´ ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•´ë³´ê² ìŠµë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("kubectl apply -f counter-app.yml\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# counter appì— ì ‘ê·¼")]),t._v("\nkubectl get po\nkubectl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it counter-"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("xxxxx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" -- "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# curl localhost:3000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# curl localhost:3000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# telnet redis 6379")]),t._v("\n  dbsize\n  KEYS *\n  GET count\n  quit\n")])])]),s("p",[t._v("Serviceë¥¼ í†µí•´ Podê³¼ ì„±ê³µì ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.")]),t._v(" "),s("h2",{attrs:{id:"service-á„‰á…¢á†¼á„‰á…¥á†¼-á„’á…³á„…á…³á†·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-á„‰á…¢á†¼á„‰á…¥á†¼-á„’á…³á„…á…³á†·"}},[t._v("#")]),t._v(" Service ìƒì„± íë¦„")]),t._v(" "),s("p",[t._v("ServiceëŠ” ê° Podë¥¼ ë°”ë¼ë³´ëŠ” ë¡œë“œë°¸ëŸ°ì„œ ì—­í• ì„ í•˜ë©´ì„œ ë‚´ë¶€ ë„ë©”ì¸ì„œë²„ì— ìƒˆë¡œìš´ ë„ë©”ì¸ì„ ìƒì„±í•©ë‹ˆë‹¤. Serviceê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì‚´í´ë´…ë‹ˆë‹¤.")]),t._v(" "),s("pre",{staticClass:"mermaid-container"},[s("code",[s("Mermaid",{attrs:{id:"mermaid_64a5709e",graph:t.$dataBlock.mermaid_64a5709e}})],1)]),s("ol",[s("li",[s("code",[t._v("Endpoint Controller")]),t._v("ëŠ” "),s("code",[t._v("Service")]),t._v("ì™€ "),s("code",[t._v("Pod")]),t._v("ì„ ê°ì‹œí•˜ë©´ì„œ ì¡°ê±´ì— ë§ëŠ” Podì˜ IPë¥¼ ìˆ˜ì§‘")]),t._v(" "),s("li",[s("code",[t._v("Endpoint Controller")]),t._v("ê°€ ìˆ˜ì§‘í•œ IPë¥¼ ê°€ì§€ê³  "),s("code",[t._v("Endpoint")]),t._v(" ìƒì„±")]),t._v(" "),s("li",[s("code",[t._v("Kube-Proxy")]),t._v("ëŠ” "),s("code",[t._v("Endpoint")]),t._v(" ë³€í™”ë¥¼ ê°ì‹œí•˜ê³  ë…¸ë“œì˜ iptablesì„ ì„¤ì •")]),t._v(" "),s("li",[s("code",[t._v("CoreDNS")]),t._v("ëŠ” "),s("code",[t._v("Service")]),t._v("ë¥¼ ê°ì‹œí•˜ê³  ì„œë¹„ìŠ¤ ì´ë¦„ê³¼ IPë¥¼ "),s("code",[t._v("CoreDNS")]),t._v("ì— ì¶”ê°€")])]),t._v(" "),s("p",[s("code",[t._v("iptables")]),t._v("ëŠ” ì»¤ë„"),s("sup",[t._v("kernel")]),t._v(" ë ˆë²¨ì˜ ë„¤íŠ¸ì›Œí¬ ë„êµ¬ì´ê³  "),s("code",[t._v("CoreDNS")]),t._v("ëŠ” ë¹ ë¥´ê³  í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ìš© ë„ë©”ì¸ ë„¤ì„ ì„œë²„ ì…ë‹ˆë‹¤. ê°ê°ì˜ ì—­í• ì€ "),s("code",[t._v("iptables")]),t._v(" ì„¤ì •ìœ¼ë¡œ ì—¬ëŸ¬ IPì— íŠ¸ë˜í”½ì„ ì „ë‹¬í•˜ê³  "),s("code",[t._v("CoreDNS")]),t._v("ë¥¼ ì´ìš©í•˜ì—¬ IP ëŒ€ì‹  ë„ë©”ì¸ ì´ë¦„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("iptables")]),t._v(" "),s("p",[t._v("iptablesëŠ” ê·œì¹™ì´ ë§ì•„ì§€ë©´ ì„±ëŠ¥ì´ ëŠë ¤ì§€ëŠ” ì´ìŠˆê°€ ìˆì–´, "),s("code",[t._v("ipvs")]),t._v("ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜µì…˜ë„ ìˆìŠµë‹ˆë‹¤.")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("CoreDNS")]),t._v(" "),s("p",[t._v("CoreDNSëŠ” í´ëŸ¬ìŠ¤í„°ì—ì„œ í˜¸í™˜ì„±ì„ ìœ„í•´ "),s("code",[t._v("kube-dns")]),t._v("ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.")])]),t._v(" "),s("p",[t._v("ê°‘ìê¸° Endpointê°€ ë‚˜ì™”ìŠµë‹ˆë‹¤. EndpointëŠ” ì„œë¹„ìŠ¤ì˜ ì ‘ì† ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. Endpointì˜ ìƒíƒœë¥¼ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("kubectl get endpoints\nkubectl get ep "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ì¤„ì—¬ì„œ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# redis Endpoint í™•ì¸")]),t._v("\nkubectl describe ep/redis\n")])])]),s("p",[s("strong",[t._v("ì‹¤í–‰ ê²°ê³¼")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Name:         redis\nNamespace:    default\nLabels:       <none>\nAnnotations:  endpoints.kubernetes.io/last-change-trigger-time: ...\nSubsets:\n  Addresses:          172.17.0.2\n  NotReadyAddresses:  <none>\n  Ports:\n    Name     Port  Protocol\n    ----     ----  --------\n    <unset>  6379  TCP\n\nEvents:  <none>\n")])])]),s("p",[t._v("Endpoint Addresses ì •ë³´ì— Redis Podì˜ IPê°€ ë³´ì…ë‹ˆë‹¤. (Replicasê°€ ì—¬ëŸ¬ê°œì˜€ë‹¤ë©´ ì—¬ëŸ¬ IPê°€ ë³´ì…ë‹ˆë‹¤.)")]),t._v(" "),s("h2",{attrs:{id:"service-nodeport-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-nodeport-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[t._v("#")]),t._v(" Service(NodePort) ë§Œë“¤ê¸°")]),t._v(" "),s("p",[t._v("CluterIPëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ëŸ¬ìŠ¤í„° ì™¸ë¶€(ë…¸ë“œ)ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ NodePort ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Service\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("np\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NodePort\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TCP\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodePort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31000")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" app\n")])])]),s("code-link",{attrs:{link:"guide/service/counter-nodeport.yml"}}),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ì •ì˜")]),t._v(" "),s("th",[t._v("ì„¤ëª…")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("spec.ports.nodePort")])]),t._v(" "),s("td",[t._v("ë…¸ë“œì— ì˜¤í”ˆí•  Port (ë¯¸ì§€ì •ì‹œ 30000-32768 ì¤‘ì— ìë™ í• ë‹¹)")])])])]),t._v(" "),s("p",[t._v("counter appì„ í•´ë‹¹ ë…¸ë“œì˜ 31000ìœ¼ë¡œ ì˜¤í”ˆí•©ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("kubectl apply -f counter-nodeport.yml\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸")]),t._v("\nkubectl get svc\n")])])]),s("p",[s("strong",[t._v("ì‹¤í–‰ ê²°ê³¼")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE\ncounter-np   NodePort    10.101.168.165   <none>        3000:31000/TCP   13s\nkubernetes   ClusterIP   10.96.0.1        <none>        443/TCP          3d19h\nredis        ClusterIP   10.103.50.102    <none>        6379/TCP         30m\n")])])]),s("p",[s("code",[t._v("minikube ip")]),t._v("ë¡œ í…ŒìŠ¤íŠ¸ í´ëŸ¬ìŠ¤í„°ì˜ ë…¸ë“œ IPë¥¼ êµ¬í•˜ê³  31000ìœ¼ë¡œ ì ‘ê·¼í•´ë´…ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".64.4:31000 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ë˜ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ê·¼")]),t._v("\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("Docker")]),t._v(" "),s("p",[t._v("Docker driverë¥¼ ì‚¬ìš©ì¤‘ì´ë¼ë©´ "),s("code",[t._v("minikube service counter-np")]),t._v(" ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ ì ‘ì†í•˜ì„¸ìš”.")])]),t._v(" "),s("div",{staticStyle:{"text-align":"center",width:"350px","max-width":"100%",margin:"0 auto"}},[s("custom-image",{attrs:{src:"/imgs/guide/service/nodeport.png",alt:"NodePort"}})],1),t._v(" "),s("p",[t._v("NodePortëŠ” í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ë“  ë…¸ë“œì— í¬íŠ¸ë¥¼ ì˜¤í”ˆí•©ë‹ˆë‹¤. ì§€ê¸ˆì€ í…ŒìŠ¤íŠ¸ë¼ì„œ í•˜ë‚˜ì˜ ë…¸ë“œë°–ì— ì—†ì§€ë§Œ ì—¬ëŸ¬ ê°œì˜ ë…¸ë“œê°€ ìˆë‹¤ë©´ ì•„ë¬´ ë…¸ë“œë¡œ ì ‘ê·¼í•´ë„ ì§€ì •í•œ Podìœ¼ë¡œ ì˜ì˜¥ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")]),t._v(" "),s("div",{staticStyle:{"text-align":"center",width:"550px","max-width":"100%",margin:"0 auto"}},[s("custom-image",{attrs:{src:"/imgs/guide/service/nodeport-multi.png",alt:"NodePort"}})],1),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("NodePortì™€ ClusterIP")]),t._v(" "),s("p",[t._v("NodePortëŠ” CluterIPì˜ ê¸°ëŠ¥ì„ ê¸°ë³¸ìœ¼ë¡œ í¬í•¨í•©ë‹ˆë‹¤.")])]),t._v(" "),s("h2",{attrs:{id:"service-loadbalancer-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-loadbalancer-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[t._v("#")]),t._v(" Service(LoadBalancer) ë§Œë“¤ê¸°")]),t._v(" "),s("p",[t._v("NodePortì˜ ë‹¨ì ì€ ë…¸ë“œê°€ ì‚¬ë¼ì¡Œì„ ë•Œ ìë™ìœ¼ë¡œ ë‹¤ë¥¸ ë…¸ë“œë¥¼ í†µí•´ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 3ê°œì˜ ë…¸ë“œê°€ ìˆë‹¤ë©´ 3ê°œ ì¤‘ì— ì•„ë¬´ ë…¸ë“œë¡œ ì ‘ê·¼í•´ë„ NodePortë¡œ ì—°ê²°í•  ìˆ˜ ìˆì§€ë§Œ ì–´ë–¤ ë…¸ë“œê°€ ì‚´ì•„ ìˆëŠ”ì§€ëŠ” ì•Œ ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤.")]),t._v(" "),s("div",{staticStyle:{"text-align":"center",width:"460px","max-width":"100%",margin:"0 auto"}},[s("custom-image",{attrs:{src:"/imgs/guide/service/lb.png",alt:"Load Balancer"}})],1),t._v(" "),s("p",[t._v("ìë™ìœ¼ë¡œ ì‚´ì•„ ìˆëŠ” ë…¸ë“œì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ëª¨ë“  ë…¸ë“œë¥¼ ë°”ë¼ë³´ëŠ” "),s("code",[t._v("Load Balancer")]),t._v("ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ëŠ” NodePortì— ì§ì ‘ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ Load Balancerì— ìš”ì²­í•˜ê³  Load Balancerê°€ ì•Œì•„ì„œ ì‚´ì•„ ìˆëŠ” ë…¸ë“œì— ì ‘ê·¼í•˜ë©´ NodePortì˜ ë‹¨ì ì„ ì—†ì•¨ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")]),t._v(" "),s("p",[t._v("Load Balancerë¥¼ ìƒì„±í•´ ë´…ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Service\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("lb\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LoadBalancer\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30000")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targetPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TCP\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" counter\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" app\n")])])]),s("code-link",{attrs:{link:"guide/service/counter-lb.yml"}}),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("kubectl apply -f counter-lb.yml\n")])])]),s("p",[s("strong",[t._v("ì‹¤í–‰ ê²°ê³¼")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("NAME         TYPE           CLUSTER-IP       EXTERNAL-IP   PORT(S)           AGE\ncounter-lb   LoadBalancer   10.109.133.129   <pending>     30000:31535/TCP   9s\ncounter-np   NodePort       10.101.168.165   <none>        3000:31000/TCP    34m\nkubernetes   ClusterIP      10.96.0.1        <none>        443/TCP           3d20h\nredis        ClusterIP      10.103.50.102    <none>        6379/TCP          65m\n")])])]),s("p",[t._v("counter-lbê°€ ìƒì„±ë˜ì—ˆì§€ë§Œ, "),s("code",[t._v("EXTERNAL-IP")]),t._v("ê°€ "),s("code",[t._v("<pending>")]),t._v("ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤ Load BalancerëŠ” AWS, Google Cloud, Azure ê°™ì€ í´ë¼ìš°ë“œ í™˜ê²½ì´ ì•„ë‹ˆë©´ ì‚¬ìš©ì´ ì œí•œì ì…ë‹ˆë‹¤. íŠ¹ì • ì„œë²„(ë…¸ë“œ)ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë¬´ì–¸ê°€(Load Balancer)ê°€ í•„ìš”í•œë° ì´ëŸ° "),s("code",[t._v("ë¬´ì–¸ê°€")]),t._v("ê°€ ê°€ìƒë¨¸ì‹ ì´ë‚˜ ë¡œì»¬ ì„œë²„ì—ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")]),t._v(" "),s("h3",{attrs:{id:"minikubeá„‹á…¦-á„€á…¡á„‰á…¡á†¼-loadbalancer-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minikubeá„‹á…¦-á„€á…¡á„‰á…¡á†¼-loadbalancer-á„†á…¡á†«á„ƒá…³á†¯á„€á…µ"}},[t._v("#")]),t._v(" minikubeì— ê°€ìƒ LoadBalancer ë§Œë“¤ê¸°")]),t._v(" "),s("p",[t._v("Load Balancerë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” í™˜ê²½ì—ì„œ ê°€ìƒ í™˜ê²½ì„ ë§Œë“¤ì–´ ì£¼ëŠ” ê²ƒì´ "),s("code",[t._v("MetalLB")]),t._v("ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤. minikubeì—ì„œëŠ” í˜„ì¬ ë–  ìˆëŠ” ë…¸ë“œë¥¼ Load Balancerë¡œ ì„¤ì •í•©ë‹ˆë‹¤. minikubeì˜ "),s("code",[t._v("addons")]),t._v(" ëª…ë ¹ì–´ë¡œ í™œì„±í™”í•©ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("minikube addons "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" metallb\n")])])]),s("p",[t._v("ê·¸ë¦¬ê³  "),s("code",[t._v("minikube ip")]),t._v("ëª…ë ¹ì–´ë¡œ í™•ì¸í•œ IPë¥¼ ConfigMapìœ¼ë¡œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.")]),t._v(" "),s("p",[t._v("minikubeë¥¼ ì´ìš©í•˜ì—¬ ì†ì‰½ê²Œ metallb ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("minikube addons configure metallb\n\n-- Enter Load Balancer Start IP: "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# minikube ip ê²°ê³¼ê°’ ì…ë ¥")]),t._v("\n-- Enter Load Balancer End IP: "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# minikube ip ê²°ê³¼ê°’ ì…ë ¥")]),t._v("\n    â–ª Using image metallb/speaker:v0.9.6\n    â–ª Using image metallb/controller:v0.9.6\nâœ…  metallb was successfully configured\n")])])]),s("p",[t._v("minikubeë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§ì ‘ ConfigMapì„ ì‘ì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br")]),s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ConfigMap\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" metallb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("system\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" config\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n    address-pools:\n    - name: default\n      protocol: layer2\n      addresses:\n      - 192.168.64.4/32 # minikube ip")]),t._v("\n")])])]),s("code-link",{attrs:{link:"guide/service/metallb-cm.yml"}}),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("kubectl apply -f metallb-cm.yml\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ë‹¤ì‹œ ì„œë¹„ìŠ¤ í™•ì¸")]),t._v("\nkubectl get svc\n")])])]),s("p",[s("strong",[t._v("ì‹¤í–‰ ê²°ê³¼")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("NAME         TYPE           CLUSTER-IP       EXTERNAL-IP   PORT(S)           AGE\ncounter-lb   LoadBalancer   10.109.133.129   192.168.64.4  30000:31535/TCP   1m\ncounter-np   NodePort       10.101.168.165   <none>        3000:31000/TCP    35m\nkubernetes   ClusterIP      10.96.0.1        <none>        443/TCP           3d20h\nredis        ClusterIP      10.103.50.102    <none>        6379/TCP          66m\n")])])]),s("p",[t._v("ì´ì œ "),s("code",[t._v("192.168.64.4:30000")]),t._v("ìœ¼ë¡œ ì ‘ê·¼í•´ë´…ë‹ˆë‹¤.")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("Docker")]),t._v(" "),s("p",[t._v("Docker driverë¥¼ ì‚¬ìš©ì¤‘ì´ë¼ë©´ "),s("code",[t._v("minikube service counter-lb")]),t._v(" ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ ì ‘ì†í•˜ì„¸ìš”.")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("LoadBalancerì™€ NodePort")]),t._v(" "),s("p",[t._v("LoadBalancerëŠ” NodePortì˜ ê¸°ëŠ¥ì„ ê¸°ë³¸ìœ¼ë¡œ í¬í•¨í•©ë‹ˆë‹¤.")])]),t._v(" "),s("h2",{attrs:{id:"á„†á…¡á„†á…®á„…á…µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#á„†á…¡á„†á…®á„…á…µ"}},[t._v("#")]),t._v(" ë§ˆë¬´ë¦¬")]),t._v(" "),s("p",[t._v("ì„œë¹„ìŠ¤ëŠ” ë¡œìš°ë ˆë²¨"),s("sup",[t._v("low level")]),t._v(" ìˆ˜ì¤€ì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ì´í•´í•˜ê³  ì„±ëŠ¥, ë³´ì•ˆ ì´ìŠˆë¥¼ ì‹ ê²½ ì¨ì•¼ í•©ë‹ˆë‹¤. íŒŒê³ ë“¤ë©´ í•œì—†ì´ ë³µì¡í•˜ê³  ì–´ë ¤ìš´ ë¶€ë¶„ìœ¼ë¡œ ì¼ë‹¨ ê·¸ë ‡êµ¬ë‚˜.. í•˜ê³  ë„˜ì–´ê°‘ë‹ˆë‹¤. ğŸ˜­")]),t._v(" "),s("p",[t._v("ì‹¤ì „ì—ì„  NodePortì™€ LoadBalancerë¥¼ ì œí•œì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ë³´í†µ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ë©´ 80 ë˜ëŠ” 443 í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  í•˜ë‚˜ì˜ í¬íŠ¸ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ì„œë¹„ìŠ¤ë¥¼ ë„ë©”ì¸ì´ë‚˜ ê²½ë¡œì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì—°ê²°í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ ë¶€ë¶„ì€ ë’¤ì— Ingressì—ì„œ ìì„¸íˆ ì•Œì•„ë´…ë‹ˆë‹¤.")]),t._v(" "),s("h2",{attrs:{id:"á„á…¡á†·á„€á…©"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#á„á…¡á†·á„€á…©"}},[t._v("#")]),t._v(" ì°¸ê³ ")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#service-v1-core",target:"_blank",rel:"noopener noreferrer"}},[t._v("Service v1 core"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://matthewpalmer.net/kubernetes-app-developer/articles/kubernetes-networking-guide-beginners.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ë„¤íŠ¸ì›Œí¬ í†µì‹  ì‹œê°í™”"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"á„†á…®á†«á„Œá…¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#á„†á…®á†«á„Œá…¦"}},[t._v("#")]),t._v(" ë¬¸ì œ")]),t._v(" "),s("p",[s("strong",[t._v("ë¬¸ì œ1. echo ì„œë¹„ìŠ¤ë¥¼ NodePortë¡œ 32000 í¬íŠ¸ë¡œ ì˜¤í”ˆí•©ë‹ˆë‹¤.")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("í‚¤")]),t._v(" "),s("th",[t._v("ê°’")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("Deployment ì´ë¦„")])]),t._v(" "),s("td",[t._v("echo")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Deployment Label")])]),t._v(" "),s("td",[t._v("app: echo")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Deployment ë³µì œìˆ˜")])]),t._v(" "),s("td",[t._v("3")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Container ì´ë¦„")])]),t._v(" "),s("td",[t._v("echo")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Container ì´ë¯¸ì§€")])]),t._v(" "),s("td",[t._v("ghcr.io/subicura/echo:v1")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("NodePort ì´ë¦„")])]),t._v(" "),s("td",[t._v("echo")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("NodePort Port")])]),t._v(" "),s("td",[t._v("3000")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("NodePort NodePort")])]),t._v(" "),s("td",[t._v("32000")])])])]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("ì •ë‹µ")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replicas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchLabels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ghcr.io/subicura/echo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("v1\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Service\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NodePort\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("protocol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TCP\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodePort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32000")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo\n")])])]),s("code-link",{attrs:{link:"guide/service/exam1.yml"}})],1)],1)}),[],!1,null,null,null);"function"==typeof n&&n(r);a.default=r.exports}}]);